<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Main Page</title>
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
    <script src="{{url_for('static', filename='myjavascript.js')}}"></script>
</head>
<body>
    {% for message in get_flashed_messages() %}
        <p>{{ message }}</p>
    {% endfor %}
    <br>
    <form action="http://127.0.0.1:5000/" method="POST">
        <label>From </label>
        <select name="startPlace">
            <option value=""></option>
            {% for i in showedPlaceList: %}
            <option value={{i}}>{{placeNames[i]}}</option>
            {% endfor %}
        </select>
        <label>To </label>
        <select name="endPlace">
            <option value=""></option>
            {% for i in showedPlaceList: %}
            <option value={{i}}>{{placeNames[i]}}</option>
            {% endfor %}
        </select>
        <br><br>
        <input type="submit" name="submit_button" value="Search">
        <input type="submit" name="submit_button" value="Reset Dijkstra database">
    </form>

    <p>Database size: {{ dbsize }}</p>
    <br>
    <p>Route is from {{placeNames[idStartPlace]}} to {{placeNames[idEndPlace]}}</p>
    <p>Distance is {{distance}}</p>
    <p>Tracking order: </p>
    <p>{% for i in range (trackingList|length - 1, -1, -1):%}
            {{trackingList[i]}} =>
        {% endfor %}
        {{placeNames[idEndPlace]}}
    </p>
    <br>
    <div>
        <canvas id="myCanvas"
                style="border: 1px solid #d3d3d3;
                        width: 100%;
                        background-image: url('{{url_for('static', filename='maps-1.jpg')}}');
                        background-size: 100%;
                        background-repeat: no-repeat">
            Your browser does not support the HTML5 canvas tag.
        </canvas>
        <div style="padding-top:20px;">
            <div id="coord"></div>
        </div>
    </div>

</body>
</html>